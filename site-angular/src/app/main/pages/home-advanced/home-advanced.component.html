<div class="w-100-p" fxLayout="row" fxLayoutAlign="start start">
  <mat-drawer-container class="w-100-p h-100-p" fxLayout="row" fxLayoutAlign="start start" autosize>
    <mat-drawer #leftDrawer class="" mode="side" position="start" opened="true">
      <div fxLayout="column" fxLayoutAlign="start stretch" class="pango-drawer h-100-p">
        <div class="pango-drawer-header" fxLayout="row" fxLayoutAlign="start center">
          <span class="pango-drawer-header-title">
            Filter Options</span>
          <span fxFlex></span>
          <button mat-stroked-button type="button" color="warn" class="pango-rounded-button pango-xs mr-8"
            (click)="clearAllFIlters()">
            Clear All Filters
          </button>
          <button mat-stroked-button (click)="closeLeftDrawer()" class="pango-rounded-button pango-xs" color="primary"
            aria-label="Close dialog"
            matTooltip="Expand your viewing space by hiding the filter panel and focus on the results. To bring back the panel, simply click the menu icon [hamburger icon] located at the top left corner."
            [matTooltipPosition]="'above'" [matTooltipShowDelay]="3000">
            Close
          </button>
        </div>
        <div class="pango-drawer-body">
          <pango-search-aspect-form></pango-search-aspect-form>
          <pango-category-stats></pango-category-stats>
        </div>
      </div>
    </mat-drawer>
    <mat-drawer-content class="pango-section-body w-100-p">
      <div class="h-100-p" fxLayout="row" fxLayoutAlign="start stretch">
        <div class="pango-genes-panel" fxFlex="300px">
          <pango-summary-stats-vertical></pango-summary-stats-vertical>
          <pango-gene-list [annotationPage]="annotationPage"></pango-gene-list>
        </div>
        <div class="pango-annotations-panel" fxFlex fxLayout="column" fxLayoutAlign="start stretch">
          <div class="pango-header accent p-8 w-100-p" fxLayout="column" fxLayoutAlign="start center">

            <h1>
              Functions of Human Genes
            </h1>
            <h2>
              Each line in the table below represents a functional characteristic of a human gene that is supported by
              scientific evidence. You can filter the list to find specific genes and/or functions.
            </h2>
            <h3>
              See any missing or incorrect functions? <a href="https://help.geneontology.org/" target="_blank">Let us
                know!</a>
            </h3>
            <!--   <div fxLayout="column" fxLayoutAlign="start center" class="pango-filter-section">
            <div class="pango-heading">
              <span>Filter By</span>
            </div>
            <div fxLayout="row" fxLayoutAlign="start center">
              
            </div>
          </div> -->
            <pango-search-form> </pango-search-form>
          </div>
          <div class="w-100-p" *ngIf="selectedAnnotationGroup">
            <div class="w-100-p" fxLayout="column" fxLayoutAlign="start stretch">
              <div class="pango-gene-summary w-100-p" fxLayout="column" fxLayoutAlign="start stretch">
                <h1 class="pango-heading">
                  Filtered annotations and evidence for
                  <span class="pango-highlight">
                    {{selectedAnnotationGroup.gene.geneSymbol}}
                  </span>
                </h1>
                <div class="w-100-p" fxLayout="row" fxLayoutAlign="start space-between">
                  <div class="pango-gene-detail-col" fxLayout="column" fxLayoutAlign="start start">
                    <h2>
                      Gene Details
                    </h2>

                    <div class="pango-term-row" fxLayout="row" fxLayoutAlign="start center">
                      <div class="pango-title mr-8">
                        Gene:
                      </div>
                      <div class=" pango-description">
                        {{selectedAnnotationGroup.gene.geneSymbol}}
                      </div>
                    </div>
                    <div class="pango-term-row" fxLayout="row" fxLayoutAlign="start center">
                      <div class="pango-title mr-8">
                        Protein:
                      </div>
                      <div class=" pango-description">
                        {{selectedAnnotationGroup.gene.geneName}}
                      </div>
                    </div>

                    <div class="pango-term-row" fxLayout="row" fxLayoutAlign="start center">
                      <div class="pango-title mr-8">
                        Organism
                      </div>
                      <div class=" pango-description">
                        <a [href]="taxonApiUrl+selectedAnnotationGroup.gene.taxonId" target="_blank">
                          {{selectedAnnotationGroup.gene.taxonLabel}}
                        </a>
                      </div>
                    </div>
                  </div>

                  <div class="pango-links-col" fxLayout="column" fxLayoutAlign="start start">
                    <h2>
                      External Links
                    </h2>
                    <div class="pango-term-row" fxLayout="row" fxLayoutAlign="start center">
                      <div class="pango-title mr-8">
                        UniProt ID:
                      </div>
                      <div class=" pango-description">
                        <a href="{{getUniprotLink(selectedAnnotationGroup.gene.gene)}}" target="_blank">
                          {{selectedAnnotationGroup.gene.gene}}
                        </a>
                      </div>
                    </div>
                    <div class="pango-term-row" fxLayout="row" fxLayoutAlign="start center">
                      <div class="pango-title mr-8">
                        PANTHER Tree Viewer:
                      </div>
                      <div class=" pango-description">
                        <a (click)="$event.stopPropagation()" [href]="getFamilyLink(selectedAnnotationGroup.gene)"
                          target="_blank">
                          {{selectedAnnotationGroup.gene.pantherFamily}}
                        </a>
                      </div>
                    </div>
                    <div class="pango-term-row" fxLayout="row" fxLayoutAlign="start center">
                      <div class="pango-title mr-8">
                        UCSC Genome Browser:
                      </div>
                      <div class=" pango-description">
                        <a (click)="$event.stopPropagation()" [href]="getUcscLink(selectedAnnotationGroup.gene)"
                          target="_blank">
                          chr{{selectedAnnotationGroup.gene.coordinatesChrNum}}:{{selectedAnnotationGroup.gene.coordinatesStart}}-{{selectedAnnotationGroup.gene.coordinatesEnd}}
                        </a>
                      </div>
                    </div>
                    <div *ngIf="selectedAnnotationGroup.gene.hgncId" class="pango-term-row" fxLayout="row"
                      fxLayoutAlign="start center">
                      <div class="pango-title mr-8">
                        Alliance of Genome Resources:
                      </div>
                      <div class=" pango-description">
                        <a [href]="getAGRLink(selectedAnnotationGroup.gene.hgncId)" target="_blank">
                          {{selectedAnnotationGroup.gene.hgncId}}
                        </a>
                      </div>
                    </div>
                    <div *ngIf="selectedAnnotationGroup.gene.hgncId" class="pango-term-row" fxLayout="row"
                      fxLayoutAlign="start center">
                      <div class="pango-title mr-8">
                        HUGO Gene Nomenclature Committee:
                      </div>
                      <div class=" pango-description">
                        <a [href]="getHGNCLink(selectedAnnotationGroup.gene.hgncId)" target="_blank">
                          {{selectedAnnotationGroup.gene.hgncId}}
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!--  <pango-summary-stats></pango-summary-stats>
 -->
              <pango-annotation-table class="w-100-p" [options]="tableOptions"
                [annotations]="selectedAnnotationGroup.annotations"></pango-annotation-table>
            </div>
          </div>
          <div class="w-100-p">
            <pango-footer></pango-footer>
          </div>
        </div>
      </div>
    </mat-drawer-content>
    <mat-drawer #rightDrawer class="pango-right-drawer" mode="over" position="end">
      <div class="h-100-p" [ngSwitch]="pangoMenuService.selectedRightPanel">
        <pango-annotation-detail [panelDrawer]="rightDrawer" *ngSwitchCase="RightPanel.annotationDetail">
        </pango-annotation-detail>
      </div>
    </mat-drawer>
  </mat-drawer-container>
</div>